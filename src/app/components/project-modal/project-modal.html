@if (open && project) {
  <div class="fixed inset-0 z-[70] flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" (click)="close()"></div>
    <div class="relative z-10 w-full max-w-4xl overflow-hidden rounded-2xl border border-white/10 bg-graphite p-4 shadow-2xl">
      <div class="flex flex-col gap-4 md:flex-row">
        <div class="relative aspect-video w-full overflow-hidden rounded-xl md:w-2/3">
          <img [src]="project.images[idx]" [alt]="project.title" class="h-full w-full object-cover" loading="lazy"/>
          <button type="button" class="absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/10 p-2 hover:bg-white/20" (click)="prev()">‹</button>
          <button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/10 p-2 hover:bg-white/20" (click)="next()">›</button>
        </div>
        <div class="md:w-1/3">
          <div class="flex items-start justify-between gap-4">
            <h3 class="text-xl font-semibold text-white">{{ project.title }}</h3>
            <button type="button" class="rounded-lg border border-white/15 bg-white/10 px-2 py-1 text-sm hover:bg-white/20" (click)="close()">Fechar</button>
          </div>
          @if (project.status) {
            <span class="mt-2 inline-block rounded-md bg-emerald-500/20 px-2 py-1 text-xs text-emerald-300">{{ project.status }}</span>
          }
          <p class="mt-3 text-sm text-slate-300">{{ project.description }}</p>
          <div class="mt-4 flex flex-wrap gap-2 text-xs text-slate-300">
            @for (t of project.techs; track t) {
              <span class="rounded-md border border-white/10 bg-white/5 px-2 py-1 hover:scale-105 hover:shadow-glow transition">{{ t }}</span>
            }
          </div>
          <div class="mt-4 flex flex-wrap items-center gap-3 text-sm">
            @if (project.links?.github) {
              <a [href]="project.links!.github" target="_blank" rel="noopener" class="rounded-lg border border-white/10 bg-white/5 px-3 py-1.5 hover:bg-white/10">GitHub</a>
            }
            @if (project.links?.demo) {
              <a [href]="project.links!.demo" target="_blank" rel="noopener" class="rounded-lg border border-emerald-500/30 text-emerald-300 px-3 py-1.5 hover:bg-emerald-500/10">Demo</a>
            }
            @if (project.links?.docs) {
              <a [href]="project.links!.docs" target="_blank" rel="noopener" class="rounded-lg border border-blue-500/30 text-blue-300 px-3 py-1.5 hover:bg-blue-500/10">Docs</a>
            }
          </div>
        </div>
      </div>
      <div class="mt-3 flex items-center justify-center gap-1">
        @for (i of project.images; track i; let idx = $index) {
          <span class="h-1.5 w-6 rounded-full" [ngClass]="{ 'bg-white/60': idx === this.idx, 'bg-white/20': idx !== this.idx }"></span>
        }
      </div>
    </div>
  </div>
}

