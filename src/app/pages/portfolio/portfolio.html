<section class="py-6">
  <div class="mx-auto max-w-6xl">
    <h2 appScrollReveal class="heading-strong animated-gradient-text">{{ 'portfolio.title' | t }}</h2>
    <p appScrollReveal [delay]="100" class="mt-3 max-w-3xl text-slate-700 dark:text-slate-300">{{ 'portfolio.subtitle' | t }}</p>

    <!-- Filtros por stack -->
    <div appScrollReveal [delay]="150" class="mt-6 flex flex-wrap items-center gap-2 text-xs">
      @for (t of allTags(); track t) {
        <button type="button"
                (click)="toggleFilter(t)"
                [ngClass]="filters().includes(t)
                  ? 'bg-emerald-100 text-emerald-700 border-emerald-300 dark:bg-emerald-500/20 dark:text-emerald-300 dark:border-emerald-500/30'
                  : 'bg-slate-100 text-slate-700 border-slate-300 dark:bg-white/5 dark:text-slate-300 dark:border-white/10'"
                class="rounded-full border px-3 py-1 transition hover:scale-105 hover:shadow-glow">
          {{ t }}
        </button>
      }
      @if (filters().length) {
        <button type="button" (click)="filters.set([])" class="ml-2 rounded-full border px-3 py-1 bg-slate-100 text-slate-700 border-slate-300 hover:bg-slate-200 dark:bg-white/5 dark:text-slate-300 dark:border-white/10 dark:hover:bg-white/10">{{ 'portfolio.clear' | t }}</button>
      }
    </div>

    <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <!-- Card 1 -->
      <article appScrollReveal appTilt class="card group cursor-pointer" (click)="openCard('logistica')">
        <div class="flex items-start justify-between gap-4">
          <h3 class="text-lg font-semibold">{{ 'portfolio.card1.title' | t }}</h3>
          <span class="rounded-md bg-emerald-500/20 px-2 py-1 text-xs text-emerald-300">{{ 'portfolio.status.prod' | t }}</span>
        </div>
        <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{{ 'portfolio.card1.desc' | t }}</p>
        <div class="mt-4 flex flex-wrap gap-2 text-xs text-slate-700 dark:text-slate-300">
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Angular</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Node.js</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">PostgreSQL</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Docker</span>
        </div>
        <div class="mt-4 flex items-center gap-3">
          <a href="https://github.com/Berntpb03" target="_blank" rel="noopener"
             (click)="$event.stopPropagation()"
             class="px-3 py-1.5 text-sm rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 transition">{{ 'portfolio.github' | t }}</a>
          <button type="button"
                  (click)="$event.stopPropagation(); openCard('logistica')"
                  class="px-3 py-1.5 text-sm rounded-lg border border-emerald-500/30 text-emerald-300 hover:bg-emerald-500/10 transition">{{ 'portfolio.demo' | t }}</button>
        </div>
      </article>

      <!-- Card 2 -->
      <article appScrollReveal [delay]="100" appTilt class="card group cursor-pointer" (click)="openCard('mobile-5g')">
        <div class="flex items-start justify-between gap-4">
          <h3 class="text-lg font-semibold">{{ 'portfolio.card2.title' | t }}</h3>
          <span class="rounded-md bg-fuchsia-500/20 px-2 py-1 text-xs text-fuchsia-300">{{ 'portfolio.status.pd' | t }}</span>
        </div>
        <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{{ 'portfolio.card2.desc' | t }}</p>
        <div class="mt-4 flex flex-wrap gap-2 text-xs text-slate-700 dark:text-slate-300">
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">React Native</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Firebase</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">TypeScript</span>
        </div>
        <div class="mt-4 flex items-center gap-3">
          <a href="https://github.com/Berntpb03" target="_blank" rel="noopener"
             (click)="$event.stopPropagation()"
             class="px-3 py-1.5 text-sm rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 transition">{{ 'portfolio.github' | t }}</a>
          <button type="button"
                  (click)="$event.stopPropagation(); openCard('mobile-5g')"
                  class="px-3 py-1.5 text-sm rounded-lg border border-fuchsia-500/30 text-fuchsia-300 hover:bg-fuchsia-500/10 transition">{{ 'portfolio.demo' | t }}</button>
        </div>
      </article>

      <!-- Card 3 -->
      <article appScrollReveal [delay]="200" appTilt class="card group cursor-pointer" (click)="openCard('bi-etl')">
        <div class="flex items-start justify-between gap-4">
          <h3 class="text-lg font-semibold">{{ 'portfolio.card3.title' | t }}</h3>
          <span class="rounded-md bg-blue-500/20 px-2 py-1 text-xs text-blue-300">{{ 'portfolio.status.data' | t }}</span>
        </div>
        <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{{ 'portfolio.card3.desc' | t }}</p>
        <div class="mt-4 flex flex-wrap gap-2 text-xs text-slate-700 dark:text-slate-300">
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Power BI</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Tableau</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">SSIS</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">Talend</span>
          <span class="rounded-md border px-2 py-1 bg-slate-100 border-slate-200 dark:bg-white/5 dark:border-white/10">BigQuery</span>
        </div>
        <div class="mt-4 flex items-center gap-3">
          <a href="https://github.com/Berntpb03" target="_blank" rel="noopener"
             (click)="$event.stopPropagation()"
             class="px-3 py-1.5 text-sm rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 transition">{{ 'portfolio.github' | t }}</a>
          <button type="button"
                  (click)="$event.stopPropagation(); openCard('bi-etl')"
                  class="px-3 py-1.5 text-sm rounded-lg border border-blue-500/30 text-blue-300 hover:bg-blue-500/10 transition">{{ 'portfolio.demo' | t }}</button>
        </div>
      </article>
    </div>

    <project-modal [open]="!!selected()" [project]="selected()!" (closed)="closeModal()"></project-modal>
  </div>
</section>
